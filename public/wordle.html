<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
<title>Azbry Wordle Lite</title>
<link rel="stylesheet" href="assets/css/azbry.css?v=20"/>
<style>
  /* ===== Layout kecil tambahan (tema utama dari azbry.css) ===== */
  .wrap{max-width:560px;margin:0 auto}

  .topbar{
    display:flex;align-items:center;justify-content:flex-start;gap:10px;
    margin:10px 0 12px;
  }
  .title{display:flex;align-items:center;gap:10px}
  .title h1{
    margin:0;font-weight:900;letter-spacing:.5px;
    color:var(--azbry-accent);text-shadow:0 0 16px var(--azbry-ring);
  }

  .board-wrap{
    margin:10px 0 12px;border:1px solid var(--panel-bd);border-radius:16px;
    background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
    box-shadow:0 10px 32px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.03);
    padding:14px;
  }

  .grid{
    display:grid;gap:8px;grid-template-columns:repeat(5,1fr);
    grid-template-rows:repeat(6,1fr);
  }
  .cell{
    aspect-ratio:1/1;border-radius:10px;display:grid;place-items:center;
    font-weight:900;font-size:clamp(18px,6vw,28px);
    background:var(--panel-bg-1);border:1px solid var(--panel-bd);color:#eaf1e9;
    transition:transform .12s ease, background .25s ease, border-color .25s ease;
  }
  .cell.f{background:#6aaa64;color:#0b0d10;border-color:#6aaa64}  /* full match */
  .cell.p{background:#c9b458;color:#0b0d10;border-color:#c9b458}  /* partial */
  .cell.m{opacity:.55}                                             /* miss */

  /* Animasi */
  .pop{ animation:pop .12s ease }
  @keyframes pop{ 0%{transform:scale(.92)} 100%{transform:scale(1)} }
  .flip{ animation:flip .45s ease both }
  @keyframes flip{ 50%{transform:rotateX(90deg)} 51%{transform:rotateX(0)} }

  .kb{display:grid;gap:6px;margin-top:12px}
  .row{display:flex;gap:6px;justify-content:center;flex-wrap:wrap}
  .key{
    padding:10px 12px;border-radius:10px;background:var(--panel-bg-1);
    border:1px solid var(--panel-bd);font-weight:800;color:#eaf1e9;min-width:34px
  }
  .key.big{min-width:74px}

  .msg{margin:10px 0 6px;min-height:22px;opacity:.9;text-align:center}

  .pillbar{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;align-items:center}
  .pill{padding:6px 10px;border-radius:999px;background:var(--panel-bg-1);border:1px solid var(--panel-bd);font-weight:800}

  .panel.note{padding:12px;border:1px solid var(--panel-bd);border-radius:16px;background:var(--panel-bg-2)}
  .note h4{margin:0 0 6px;color:#cdd6e3}
  .note p{margin:0;color:#aeb9c8}
</style>
</head>
<body>
<main class="container wrap">
  <div class="topbar">
    <div class="title">
      <span class="tag">FebryWesker</span>
      <h1>Wordle Lite</h1>
    </div>
  </div>

  <!-- Cara main di ATAS -->
  <section class="panel note" style="margin:0 0 12px">
    <h4>Cara main</h4>
    <p>Ketik 5 huruf lalu ENTER. Hijau = benar &amp; posisi tepat, Kuning = huruf ada tapi salah posisi, Abu = tidak ada.</p>
  </section>

  <section class="board-wrap">
    <div id="board" class="grid" aria-label="board"></div>
  </section>

  <div id="msg" class="msg"></div>
  <div class="kb" id="kb"></div>

  <!-- Info & Reset DIPINDAH KE BAWAH -->
  <section style="margin-top:12px">
    <div class="pillbar">
      <span class="pill">Huruf: <b>5</b></span>
      <span class="pill">Kesempatan: <b>6</b></span>
      <button id="reset" class="btn accent">Reset</button>
    </div>
  </section>

  <div class="license" style="margin-top:14px">
    <p>Lisensi MIT • © 2025 Azbry-MD</p>
    <a href="./index.html" class="cta">↗ Kembali ke Menu</a>
  </div>
</main>

<script>
(()=>{
// ===== dictionary 100 kata Bahasa Indonesia (5 huruf) =====
// (sengaja disusun kata umum; bisa kamu kurasi kapan saja)
const WORDS = [
  "ADUAN","AKHIR","ANGIN","APIAN","ASING","BATAS","BAYAR","BEBAS","BENAR","BENIH",
  "BESAR","BIDIK","BISIK","BUNGA","BURUH","CAHYA","CANDU","CIPTA","CUKUP","DAMAI",
  "DUNIA","GAJAH","GARIS","GERAK","HADIR","HAKIM","HALUS","HARTA","IKLAN","IKLIM",
  "ILHAM","IMPIA","INDAH","ISIAN","ISTIR","JAMUR","JANJI","JELAS","JUARA","KABAR",
  "KAMAR","KASIH","KAYUH","KEBAT","KERJA","KORAN","KUNCI","LAGAR","LAMPU","LARUT",
  "LAWAN","LELAH","LIRIK","LUCUH","MADIN","MAHAS","MAKAN","MALAM","MANDI","MANIS",
  "MASUK","MAWAR","MEKAN","MIMPI","MINUM","MODAL","MULAI","MURID","NAKAL","NASIH",
  "PANAS","PANDA","PANTU","PASAR","PEDAG","PEMBA","PESAN","PIKIR","PILIH","PINDA",
  "RAHAS","RAKIT","RAMAI","RAPAT","RASAQ","REKSA","RINGA","RUMAH","SAMPA","SAKIT",
  "SENJA","SENYU","SINAR","SUARA","SURAT","TAMAN","TANGG","TIDUR","UJUNG","WARNA"
];
const TARGET = () => WORDS[Math.random()*WORDS.length|0];

// ===== state =====
let answer=TARGET(), row=0, col=0, grid=Array.from({length:6},()=>Array(5).fill(""));

// ===== dom =====
const $b=document.getElementById("board"),
      $kb=document.getElementById("kb"),
      $m=document.getElementById("msg");

// render papan
function draw(){
  $b.innerHTML="";
  for(let r=0;r<6;r++){
    for(let c=0;c<5;c++){
      const d=document.createElement("div"); d.className="cell";
      d.textContent=(grid[r][c]||"").toUpperCase();
      $b.appendChild(d);
    }
  }
}
function setMsg(t){ $m.textContent=t||""; }

// reveal dengan animasi flip tiap kotak
function reveal(r){
  const guess=grid[r].join("").toUpperCase();
  const A=answer.split(""), G=guess.split("");
  const used=Array(5).fill(false);

  // pass1 exact
  for(let i=0;i<5;i++){
    const cell=$b.children[r*5+i];
    if(G[i]===A[i]){ cell.classList.add("f"); used[i]=true; }
  }
  // pass2 partial
  for(let i=0;i<5;i++){
    const cell=$b.children[r*5+i];
    if(cell.classList.contains("f")) continue;
    let k=A.findIndex((ch,j)=>!used[j]&&ch===G[i]);
    if(k>-1){ cell.classList.add("p"); used[k]=true; }
    else cell.classList.add("m");
  }
  // flip anim stagger
  for(let i=0;i<5;i++){
    const cell=$b.children[r*5+i];
    setTimeout(()=> cell.classList.add("flip"), i*85);
  }

  if(guess===answer){ setMsg("MENANG! Jawaban: "+answer); lock(); }
  else if(r===5){ setMsg("Kalah. Jawaban: "+answer); lock(); }
}

function lock(){ document.removeEventListener("keydown", onKey); }

// ===== input =====
function commit(){
  if(col<5){ bumpRow(row); return; }
  reveal(row); row++; col=0;
}
function put(ch){
  if(row>=6||col>=5) return;
  grid[row][col++]=ch;
  draw();
  popCell(row,col-1);
}
function back(){
  if(col>0){ grid[row][--col]=""; draw(); }
}
function onKey(e){
  const k=e.key.toUpperCase();
  if(k==="ENTER") commit();
  else if(k==="BACKSPACE") back();
  else if(k.length===1 && k>="A" && k<="Z") put(k);
}
document.addEventListener("keydown",onKey);

// onscreen keyboard
const L1="QWERTYUIOP", L2="ASDFGHJKL", L3="ZXCVBNM";
function rowKeys(s, hasEnter){
  const div=document.createElement("div"); div.className="row";
  s.split("").forEach(k=>{ const b=btn(k,()=>put(k)); div.appendChild(b); });
  if(hasEnter){ div.prepend(btn("ENTER",commit,true)); div.appendChild(btn("DEL",back,true)); }
  return div;
}
function btn(label,fn,big){
  const b=document.createElement("button");
  b.className="key"+(big?" big":""); b.textContent=label; b.onclick=fn; return b;
}
$kb.append(rowKeys(L1), rowKeys(L2), rowKeys(L3,true));

// tombol reset (SEKARANG DI BAWAH)
document.getElementById("reset").onclick=()=>{
  answer=TARGET(); row=0; col=0; grid=Array.from({length:6},()=>Array(5).fill(""));
  draw(); setMsg(""); document.addEventListener("keydown",onKey);
};

// efek kecil
function popCell(r,c){
  const cell=$b.children[r*5+c];
  cell.classList.remove("pop"); void cell.offsetWidth; // restart anim
  cell.classList.add("pop");
}
function bumpRow(r){
  // kalau kurang huruf, shake dikit
  for(let i=0;i<5;i++){
    const cell=$b.children[r*5+i];
    cell.style.transform="translateX(-4px)";
    setTimeout(()=>cell.style.transform="translateX(4px)",60);
    setTimeout(()=>cell.style.transform="",120);
  }
}

// boot
draw();
})();
</script>
</body>
</html>
