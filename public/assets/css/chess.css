/* =========================
   AZBRY Chess - chess.css
   (FULL REPLACE)
   ========================= */

/* --- Board wrapper agar center & responsif --- */
.board-wrap,
#boardWrap {
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* --- Papan 8x8 --- */
#board.chess-board,
#board {
  display: grid;
  grid-template-columns: repeat(8, 1fr);
  grid-template-rows: repeat(8, 1fr);
  width: min(92vmin, 560px);     /* responsif, max 560px */
  aspect-ratio: 1 / 1;           /* pastikan 1:1 */
  border-radius: 16px;
  overflow: hidden;
  background: #1a1d21;           /* fallback */
  box-shadow:
    0 0 0 1px rgba(0,0,0,.3) inset,
    0 10px 30px rgba(0,0,0,.45);
}

/* --- Kotak papan --- */
#board .square {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  user-select: none;
  -webkit-tap-highlight-color: transparent;

  /* Bidak besar & jelas */
  font-size: clamp(28px, 8.6vmin, 72px);
  line-height: 1;
  font-weight: 700;
}

/* Warna kotak */
#board .light { background: #e9edf2; }
#board .dark  { background: #2a3037; }

/* --- Warna bidak + outline kontras (biar gak nyatu sama papan) --- */
#board .white {
  color: #f8fafc; /* putih */
  text-shadow:
    0 0 0 #0b0e11,
    -1px -1px 0 #0b0e11, 1px -1px 0 #0b0e11,
    -1px  1px 0 #0b0e11, 1px  1px 0 #0b0e11;
}
#board .black {
  color: #0b0e11; /* hitam */
  text-shadow:
    0 0 0 #f8fafc,
    -1px -1px 0 #f8fafc, 1px -1px 0 #f8fafc,
    -1px  1px 0 #f8fafc, 1px  1px 0 #f8fafc;
}

/* --- Highlight legal move (lingkaran lembut) --- */
#board .square.move::after {
  content: "";
  position: absolute;
  inset: 0;
  margin: auto;
  width: 34%;
  height: 34%;
  border-radius: 50%;
  background: rgba(132, 204, 22, .45); /* hijau lembut */
  box-shadow: 0 0 0 6px rgba(132, 204, 22, .18);
}

/* --- Source kotak yang diklik --- */
#board .square.src {
  outline: 3px solid rgba(132, 204, 22, .6);
  outline-offset: -3px;
}

/* --- Jejak last move --- */
#board .square.last {
  box-shadow: inset 0 0 0 9999px rgba(250, 204, 21, .14);
}

/* --- Saat flip board tetap rapi (grid tetap) --- */
#board.flip { transform: rotate(180deg); }
#board.flip .square { transform: rotate(180deg); }

/* =========================
   Panel tombol (opsional, biar rapi)
   ========================= */
.panel .btn,
.controls .btn,
button.btn {
  border: 0;
  border-radius: 12px;
  padding: .8rem 1.1rem;
  background: #111418;
  color: #e6f6df;
  font-weight: 600;
  box-shadow: 0 4px 18px rgba(0,0,0,.35);
}
.panel .btn.accent { background: #7bed5a; color: #0a0d0f; }
.panel .btn.dark   { background: #1b2026; color: #e9f0ea; }

.panel .btn:disabled {
  opacity: .5;
  cursor: not-allowed;
}

/* --- Hilangkan outline hijau yang mengganggu (kalau ada sisa class) --- */
#board .outline,
#board .glow,
#board .ring { outline: none !important; box-shadow: none !important; }

/* --- Mobile safe tap --- */
#board .square:active { filter: brightness(1.04); }

<style>
  /* Fallback aman: bikin kotak 8Ã—8 */
  #board.board { 
    --sq: min(10vw, 56px);
    width: calc(var(--sq) * 8);
    height: calc(var(--sq) * 8);
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    border-radius: 18px; 
    overflow: hidden;
  }
  #board .square { display:flex; align-items:center; justify-content:center; }
  #board .square.light { background:#e9ecef; }
  #board .square.dark  { background:#2f3338; }
</style>
