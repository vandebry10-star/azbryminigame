/* ============================
   Azbry Chess — Board Styles
   ============================ */

/* Papan (kotak 8×8). Wajib ada height → pakai aspect-ratio biar selalu kotak */
.board{
  position: relative;
  width: 100%;
  max-width: 820px;
  margin: 0 auto;
  aspect-ratio: 1 / 1;                 /* <- bikin tinggi = lebar */
  display: grid;
  grid-template-columns: repeat(8, 1fr);
  grid-auto-rows: 1fr;                 /* tiap baris tinggi sama */
  border-radius: 16px;
  overflow: hidden;
  box-shadow:
    0 0 0 1px rgba(255,255,255,.06) inset,
    0 16px 40px rgba(0,0,0,.35);
}

/* Satu petak */
.square{
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

/* Warna papan — kontras biar bidak hitam/putih tetap jelas */
.square.light{ background: #d9f0c4; }      /* hijau muda */
.square.dark { background: #22282b; }      /* abu gelap kehijauan */

/* Bidak (unicode) */
.piece{
  line-height: 1;
  font-size: clamp(24px, 5.8vw, 58px);
  filter: drop-shadow(0 1px 0 rgba(0,0,0,.45));
}
.piece.white{
  color: #f7faf7;
  text-shadow: 0 1px 0 rgba(0,0,0,.35), 0 0 8px rgba(255,255,255,.06);
}
.piece.black{
  color: #0e1112;
  text-shadow: 0 1px 0 rgba(255,255,255,.08);
}

/* Highlight jalur langkah & seleksi */
.square.sel{ outline: 3px solid #b8ff9a; outline-offset: -3px; }
.square.src::after, .square.dst::after{
  content:""; position:absolute; inset:0;
  box-shadow: inset 0 0 0 3px rgba(184,255,154,.65);
  border-radius: 2px;
}
.square.dst::after{ box-shadow: inset 0 0 0 3px rgba(184,255,154,.95); }

/* King in check (outline merah) */
.square.check::after{
  content:""; position:absolute; inset:0;
  box-shadow: inset 0 0 0 4px rgba(255,78,78,.95);
  border-radius: 2px;
}

/* Board flipped (opsional dari JS) */
.board.flipped{
  transform: scaleY(-1);
}
.board.flipped .piece{
  transform: scaleY(-1); /* biar ikon nggak ikut kebalik */
}

/* Label koordinat (kalau kamu pakai elemen label terpisah, biarkan; 
   kalau mau label di dalam square, bisa tambah di JS) */

/* Responsive wrapper (kalau dibungkus .board-wrap) */
.board-wrap{
  margin: 8px auto 16px;
  max-width: 820px;
  border-radius: 22px;
  padding: 14px;
  background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
  border: 1px solid rgba(255,255,255,.06);
  box-shadow: 0 10px 32px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.03);
}

/* Board-only mode (biar cakep di layar penuh) */
body.board-only .board-wrap{ max-width: min(98vw, 1100px); padding: 10px; }

/* --- koordinat papan (CSS-only) --- */
.square::before,
.square::after{
  position:absolute; z-index:2; font-size:12px; font-weight:800;
  color: rgba(255,255,255,.75); text-shadow: 0 1px 0 rgba(0,0,0,.5);
  pointer-events:none;         /* biar nggak ngeblok klik */
}

/* label rank (8..1) di kolom kiri */
.square:nth-child(1)::before  { content:"8"; left:6px;  top:6px;  }
.square:nth-child(9)::before  { content:"7"; left:6px;  top:6px;  }
.square:nth-child(17)::before { content:"6"; left:6px;  top:6px;  }
.square:nth-child(25)::before { content:"5"; left:6px;  top:6px;  }
.square:nth-child(33)::before { content:"4"; left:6px;  top:6px;  }
.square:nth-child(41)::before { content:"3"; left:6px;  top:6px;  }
.square:nth-child(49)::before { content:"2"; left:6px;  top:6px;  }
.square:nth-child(57)::before { content:"1"; left:6px;  top:6px;  }

/* label file (a..h) di baris bawah */
.square:nth-child(57)::after { content:"a"; right:8px; bottom:6px; }
.square:nth-child(58)::after { content:"b"; right:8px; bottom:6px; }
.square:nth-child(59)::after { content:"c"; right:8px; bottom:6px; }
.square:nth-child(60)::after { content:"d"; right:8px; bottom:6px; }
.square:nth-child(61)::after { content:"e"; right:8px; bottom:6px; }
.square:nth-child(62)::after { content:"f"; right:8px; bottom:6px; }
.square:nth-child(63)::after { content:"g"; right:8px; bottom:6px; }
.square:nth-child(64)::after { content:"h"; right:8px; bottom:6px; }

/* pastikan petak menerima klik */
.board * { pointer-events: auto; }
.square { cursor: pointer; }
