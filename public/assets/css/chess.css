/* ===== Azbry Chess — Board & Pieces (FIX) ===== */

.board {
  /* Ukuran papan responsif */
  --size: min(92vw, 640px);
  --cell: calc(var(--size) / 8);

  width: var(--size);
  height: var(--size);
  margin: 0 auto;
  border-radius: 20px;
  overflow: hidden;

  /* grid 8x8 */
  display: grid;
  grid-template-columns: repeat(8, 1fr);

  /* bingkai halus */
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.06),
    0 16px 40px rgba(0,0,0,.45);
}

/* Kotak papan */
.square {
  position: relative;
  width: 100%;
  height: 100%;
  line-height: 1;
  user-select: none;
}

/* WARNA PAPAN: hijau terang vs abu gelap */
.square.light { background: #dff7c6; }       /* hijau muda */
.square.dark  { background: #1f252a; }       /* abu gelap */

/* Bidak (unicode) — SELALU DI ATAS */
.piece {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;

  /* ukuran adaptif dari ukuran sel */
  font-size: calc(var(--cell) * 0.78);
  line-height: 1;
  z-index: 2;

  /* biar tajam */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Warna bidak */
.piece.white {
  color: #ffffff;
  text-shadow: 0 2px 0 rgba(0,0,0,.25);
}
.piece.black {
  color: #0e1114;
  text-shadow: 0 -1px 0 rgba(255,255,255,.10);
}

/* Seleksi & highlight dasar */
.square.sel     { box-shadow: inset 0 0 0 3px rgba(184,255,154,.75); }
.square.src     { outline: 3px solid rgba(184,255,154,.65); outline-offset: -3px; }
.square.dst     { box-shadow: inset 0 0 0 6px rgba(184,255,154,.25); }
.square.check   { box-shadow: inset 0 0 0 4px rgba(255,70,70,.85); }

/* Board flipped: kita cuma mirror grid direction */
.board.flipped { direction: rtl; }
.board.flipped .square { direction: ltr; }

/* Label koordinat (opsional; kalau belum dipakai, abaikan) */
.square::after,
.square::before { pointer-events: none; position: absolute; font-weight: 800; font-size: 12px; opacity: .5; color: #e8ffe2; }
.square[data-square^="a"]::before { content: attr(data-rank); left: 6px; top: 4px; }
.square[data-square$="1"]::after  { content: attr(data-file); right: 6px; bottom: 4px; }

/* Pastikan tombol dan layout umum terlihat rapi (opsional) */
.controls button {
  padding: 10px 14px; border-radius: 12px; font-weight: 800; border: 1px solid rgba(255,255,255,.08);
  background: rgba(255,255,255,.04); color: #e8f0fb;
}
.controls button.active,
.controls #btnReset,
#btnBoardOnly {
  background: linear-gradient(180deg, #b8ff9a, #94ef89);
  color: #0b0d10; border-color: transparent; box-shadow: 0 0 12px rgba(184,255,154,.25);
}
