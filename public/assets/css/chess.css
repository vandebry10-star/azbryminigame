/* ===================== AZBRY CHESS BOARD FIX ===================== */

/* Warna kotak */
:root {
  --sq-light: #EEEED2;
  --sq-dark:  #769656;
}

/* Papan catur dasar */
.board {
  position: relative;
  display: grid;
  grid-template-columns: repeat(8, 1fr);
  grid-template-rows: repeat(8, 1fr);
  width: 100%;
  aspect-ratio: 1 / 1;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 12px 40px rgba(0,0,0,.35);
  border: 1px solid rgba(0,0,0,.12);
}

/* Kotak papan */
.sq {
  display: grid;
  place-items: center;
  font-size: clamp(42px, 9vw, 76px);
  user-select: none;
  -webkit-user-select: none;
}
.sq.light { background: var(--sq-light); }
.sq.dark  { background: var(--sq-dark); }

/* Bidak di atas koordinat */
.piece {
  position: relative;
  z-index: 2;
  line-height: 1;
}

/* Warna & outline bidak */
.piece.white {
  color: #fff;
  text-shadow:
    0 0 2px #000,
    0 0 1px #000,
    0 1px 0 #000,
    1px 0 0 #000,
    -1px 0 0 #000,
    0 -1px 0 #000;
  filter: drop-shadow(0 0 2px rgba(0,0,0,.6));
}
.piece.black { color: #222; text-shadow: 0 0 3px rgba(255,255,255,.2); }

/* ===================== Koordinat sudut ===================== */

/* matikan label bawaan tiap .sq */
.sq[data-rank="1"]::after,
.sq[data-file="a"]::before {
  content: none !important;
}

/* Huruf a–h di bawah papan */
.board .files {
  position: absolute;
  inset: 0;
  display: grid;
  grid-template-columns: repeat(8, 1fr);
  pointer-events: none;
  z-index: 1;
  font: 700 12px/1 ui-sans-serif, system-ui, "Segoe UI", Roboto, Arial;
}
.board .files span {
  align-self: end;
  justify-self: end;
  padding: 0 4px 4px 0;
  color: rgba(255,255,255,.95);
  text-shadow: 0 1px 1px rgba(0,0,0,.55);
}

/* Angka 8–1 di kiri papan */
.board .ranks {
  position: absolute;
  inset: 0;
  display: grid;
  grid-template-rows: repeat(8, 1fr);
  pointer-events: none;
  z-index: 1;
  font: 700 12px/1 ui-sans-serif, system-ui, "Segoe UI", Roboto, Arial;
}
.board .ranks span {
  align-self: start;
  justify-self: start;
  padding: 4px 0 0 4px;
  color: rgba(255,255,255,.95);
  text-shadow: 0 1px 1px rgba(0,0,0,.55);
}

/* ===================== Highlight & efek ===================== */

/* Titik langkah legal (biru) */
.dot {
  position: absolute;
  width: 34%;
  height: 34%;
  border-radius: 50%;
  background: rgba(102, 204, 255, 0.45);
  outline: 3px solid rgba(102, 204, 255, 0.25);
  box-shadow: 0 0 12px rgba(102, 204, 255, 0.25) inset,
              0 0 10px rgba(102, 204, 255, 0.25);
  opacity: .95;
  transition: transform .12s ease, opacity .12s ease;
}
.dot.enter { transform: scale(1.05); }

/* Langkah terakhir */
.sq.src  { box-shadow: inset 0 0 0 3px rgba(255,255,255,.28); }
.sq.last { box-shadow: inset 0 0 0 3px rgba(0,0,0,.18); }

/* Check: raja diserang */
.sq.check {
  box-shadow:
    inset 0 0 0 3px rgba(255,77,77,.9),
    inset 0 0 18px rgba(255,77,77,.5);
}

/* ===================== Responsif ===================== */
body.board-only .board-wrap {
  max-width: min(98vw, 1100px);
}
/* ==== FIX klik & ukuran panduan langkah ==== */
.dot {
  position: absolute;
  width: 22%;
  height: 22%;
  border-radius: 50%;
  background: rgba(102, 204, 255, 0.45);
  outline: 2px solid rgba(102, 204, 255, 0.25);
  box-shadow: 0 0 8px rgba(102, 204, 255, 0.25) inset, 0 0 6px rgba(102, 204, 255, 0.25);
  pointer-events: none;   /* penting: biar klik tembus ke .sq */
}

/* sentuhan mobile lebih responsif */
.board { touch-action: manipulation; }
