/* ---------- Variabel & layout dasar ---------- */
:root{
  --bg: #0f1216;
  --panel: #12161b;
  --ink: #e6f0e8;
  --muted:#9fb3a2;
  --accent:#b6f39c;
  --btn:#1a2027;
  --btnEdge:#232b34;

  --light:#ECEFF3;
  --dark:#394046;

  --wrapPad: clamp(10px, 3vw, 20px);
  --radius: 16px;

  /* ukuran kotak papan */
  --sq: min(12.2vw, 68px);
}

*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,Arial}
h1,h2,h3{margin:0 0 8px}
.container{max-width:960px;margin:0 auto;padding:16px}

/* ---------- Header ---------- */
.top-header .tag{
  font-size:12px;color:var(--muted);background:#111820;padding:6px 10px;border-radius:999px;margin-right:8px
}
.top-header h1{font-size:28px}

/* ---------- Segmented mode ---------- */
.mode-picker{display:flex;gap:10px;margin:12px 0 10px}
.mode-picker .seg{
  border:1px solid var(--btnEdge);background:var(--btn);color:var(--ink);
  padding:10px 14px;border-radius:12px;cursor:pointer
}
.mode-picker .seg.active{background:var(--accent);color:#0a110a;font-weight:600}

/* ---------- Board wrap ---------- */
.board-wrap{margin-top:8px;background:linear-gradient(180deg,#0f151b,#0c0f13);padding:var(--wrapPad);border-radius:var(--radius)}
.board{
  display:grid;
  grid-template-columns: repeat(8, var(--sq));
  grid-template-rows: repeat(8, var(--sq));
  width:calc(var(--sq)*8);
  height:calc(var(--sq)*8);
  margin:0 auto;
  border-radius:14px;
  overflow:hidden;
  box-shadow: 0 0 0 3px #0e1419 inset, 0 12px 30px rgba(0,0,0,.35);
}

/* Kotak */
.square{display:grid;place-items:center;position:relative}
.square.light{background:var(--light)}
.square.dark{background:var(--dark)}

/* Highlight legal moves */
.square.move{outline:3px solid rgba(182,243,156,.75);outline-offset:-3px}
.square.src{box-shadow: inset 0 0 0 3px rgba(255,255,255,.5)}
.square.last{box-shadow: inset 0 0 0 3px rgba(255,234,136,.7)}

/* Bidak */
.piece{
  font-size:calc(var(--sq)*.78);
  line-height:1;
  filter:drop-shadow(0 1px 1px rgba(0,0,0,.35));
  user-select:none;pointer-events:none;
}

/* ---------- Panel ---------- */
.panel{margin-top:14px;background:var(--panel);border-radius:var(--radius);padding:var(--wrapPad)}
.controls{display:flex;gap:10px;flex-wrap:wrap}
.btn{
  background:var(--btn);border:1px solid var(--btnEdge);color:var(--ink);
  padding:10px 14px;border-radius:12px;cursor:pointer
}
.btn.dark{background:#121820}
.btn.accent{background:var(--accent);color:#101510;font-weight:700}
.btn:disabled{opacity:.45;cursor:not-allowed}

.move-log{margin-top:14px}
#moveHistory{margin:6px 0 0;white-space:pre-wrap;color:var(--muted)}

/* ---------- Footer ---------- */
.footer{display:flex;justify-content:space-between;gap:12px;margin:14px 0}
.left-btn,.right-btn{display:flex}
.az-toast{
  position:fixed;left:50%;transform:translateX(-50%);
  bottom:18px;background:#0e1419;border:1px solid #1e2a34;color:var(--ink);
  padding:10px 14px;border-radius:12px;min-width:220px;text-align:center;display:none
}
.az-toast.show{display:block}

/* ---------- Board Only mode ---------- */
.board-only .panel,.board-only .footer,.board-only .mode-picker{display:none}
.board-only .board-wrap{margin-top:10px}
.board-only .top-header{margin-bottom:8px}

/* ---------- Responsif kecil ---------- */
@media (max-width:420px){
  :root{ --sq: min(12.5vw, 58px); }
  .controls{gap:8px}
}
