/* ==== FIX: koordinat rapi & ga nutup bidak, + anti-dobel label ==== */

/* Kalau sebelumnya ada label via pseudo-element per kotak, matikan.
   Kita udah pakai overlay .files & .ranks. */
.sq[data-rank="1"]::after,
.sq[data-file="a"]::before {
  content: none !important;
}

/* Overlay koordinat ada tapi di bawah bidak */
.board .files,
.board .ranks {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1; /* di bawah bidak */
  font: 700 12px/1 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
}

/* Huruf a–h di kanan-bawah tiap kolom */
.board .files {
  display: grid;
  grid-template-columns: repeat(8, 1fr);
}
.board .files span {
  align-self: end;
  justify-self: end;
  padding: 0 4px 4px 0;
  color: rgba(0,0,0,.7);
  text-shadow: 0 1px 0 rgba(255,255,255,.4);
}
/* di kotak gelap tetap kontras */
.sq.dark ~ .files span { color: rgba(255,255,255,.9); }

/* Angka 8–1 di kiri-atas tiap baris */
.board .ranks {
  display: grid;
  grid-template-rows: repeat(8, 1fr);
}
.board .ranks span {
  align-self: start;
  justify-self: start;
  padding: 4px 0 0 4px;
  color: rgba(0,0,0,.7);
  text-shadow: 0 1px 0 rgba(255,255,255,.4);
}

/* Bidak selalu di atas koordinat */
.piece {
  position: relative;
  z-index: 2;
}

/* ==== FIX: highlight check merah yang jelas ==== */
.sq.check,
.sq.in-check {
  box-shadow:
    inset 0 0 0 3px rgba(255, 77, 77, .85),
    inset 0 0 18px rgba(255, 77, 77, .45);
}

/* ==== Titik langkah legal (biru terang) ==== */
.dot {
  position: absolute;
  width: 34%;
  height: 34%;
  border-radius: 999px;
  background: rgba(102, 204, 255, 0.45) !important;
  outline: 3px solid rgba(102, 204, 255, 0.25) !important;
  box-shadow: 0 0 12px rgba(102, 204, 255, 0.25) inset, 0 0 10px rgba(102, 204, 255, 0.25);
  transition: transform .12s ease, opacity .12s ease;
  opacity: .95;
}
.dot.enter { transform: scale(1.05); }

/* ==== Last move ring lembut ==== */
.sq.src  { box-shadow: inset 0 0 0 3px rgba(255,255,255,.28); }
.sq.last { box-shadow: inset 0 0 0 3px rgba(0,0,0,.18); }

/* ==== (Opsional) outline hitam bidak putih biar kebaca ==== */
.piece.white {
  color: #fff;
  text-shadow:
    0 0 2px #000,
    0 0 1px #000,
    0 1px 0 #000,
    1px 0 0 #000,
    -1px 0 0 #000,
    0 -1px 0 #000;
  filter: drop-shadow(0 0 2px rgba(0,0,0,.6));
}
