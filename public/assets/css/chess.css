/* ===================== Chess board (Azbry Theme - FIX + top flipped) ===================== */

.board {
  display:grid;
  grid-template-columns:repeat(8,1fr);
  grid-template-rows:repeat(8,1fr);
  width:100%;
  aspect-ratio:1/1;
  margin:0 auto;
  border-radius:16px;
  overflow:hidden;
  box-shadow:0 0 40px rgba(184,255,154,.15), inset 0 0 0 1px rgba(255,255,255,.04);
}

.sq.light{ background:#EDEFF5; }
.sq.dark { background:#1A1E29; }

.sq{
  position:relative;
  display:flex; align-items:center; justify-content:center;
  user-select:none; -webkit-user-select:none;
  font-size:clamp(42px, 9vw, 76px);
}

/* Bidak: dua sisi saling berhadapan */
.piece{
  line-height:1;
  filter: drop-shadow(0 3px 6px rgba(0,0,0,.6));
  text-shadow:0 1px 3px rgba(0,0,0,.4);
}

/* Putih normal */
.piece.white{
  color:#fff;
  -webkit-text-stroke: 1.3px rgba(0,0,0,.45);
}

/* Hitam dibalik (rotate) agar seolah hadap bawah */
.piece.black{
  color:#0b0f13;
  -webkit-text-stroke: 1.3px rgba(255,255,255,.35);
  transform: rotate(180deg);
}

.sq.src  { box-shadow: inset 0 0 0 4px rgba(255,255,255,.25); }
.sq.last { box-shadow: inset 0 0 0 4px rgba(184,255,154,.3); }

.dot{
  position:absolute;
  width:36%; height:36%;
  border-radius:50%;
  background: rgba(184,255,154,.4);
  outline:3px solid rgba(184,255,154,.2);
}

body.board-only .board-wrap{ max-width:min(98vw, 1100px); }

.overlay {
  position: fixed; inset: 0;
  background: rgba(11,13,16,.92);
  display: flex; flex-direction: column;
  justify-content: center; align-items: center;
  opacity: 0; pointer-events: none;
  transition: opacity .25s ease;
  z-index: 9999;
}
.overlay.show { opacity: 1; pointer-events: auto; }
.overlay h2 {
  color: var(--azbry-accent);
  font-weight: 800;
  font-size: 2.4rem;
  text-shadow: 0 0 20px var(--azbry-ring);
  margin-bottom: 18px;
}
.overlay .overlay-actions {
  display:flex; gap:14px; flex-wrap:wrap; justify-content:center;
}
.overlay .btn {
  font-size: 1rem;
  padding: 10px 22px;
}
